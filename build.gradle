plugins {
  id "java"
  id "maven-publish"
}

allprojects {
  group = findProperty("group")
  version = findProperty("mod_version")
}

subprojects {
  apply plugin: "java"
  java {
    toolchain { languageVersion = JavaLanguageVersion.of(21) }
    withSourcesJar()
  }
}

project(":common") {
  // pure shared code; no loader deps here
}

project(":fabric") {
  plugins.apply("fabric-loom")

  dependencies {
    minecraft "com.mojang:minecraft:${minecraft_version}"
    mappings loom.officialMojangMappings()
    modImplementation "net.fabricmc:fabric-loader:${fabric_loader}"
    modImplementation "net.fabricmc.fabric-api:fabric-api:${fabric_api}"
    implementation project(":common")
  }
}

project(":neoforge") {
  // If your template doesnâ€™t already apply it, add the NeoForge userdev plugin per its docs
  // buildscript blocks vary by template; keep it simple in the repo for now:
  dependencies {
    implementation project(":common")
  }
}
